{"ast":null,"code":"import'./App.css';import LoginPage from'./pages/loginPage/loginPage';import{BrowserRouter as Router,Route,Routes}from'react-router-dom';import SingUpPage from'./pages/singUpPage/singUpPage';import HomePage from'./pages/homePage/homePage';import WeddingSalonPage from'./pages/weddingSalonPage/weddingSalonPage';import SeatingArrangementPage from'./pages/seatingArrangementPage/seatingArrangementPage';import{useState,useEffect}from'react';import{Navigate}from'react-router-dom';import LoginGost from'./pages/loginPage/loginGost';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[autentification,setAutentification]=useState({isAdmin:false,isNewlyweds:true,isGuest:false});const[currentUser,setCurrentUser]=useState(null);const loginUser=userData=>{setCurrentUser(userData);console.log(userData);if(userData.user.uloga==='Mladenci'){setAutentification(prevState=>({isAdmin:false,isNewlyweds:true,isGuest:false}));}else if(userData.user.uloga==='Gost'){setAutentification(prevState=>({isAdmin:false,isNewlyweds:false,isGuest:true}));}else if(userData.user.uloga==='Administrator'){setAutentification(prevState=>({isAdmin:true,isNewlyweds:false,isGuest:false}));}};const logoutUser=()=>{setCurrentUser(null);localStorage.removeItem('user');};useEffect(()=>{const user=JSON.parse(localStorage.getItem('user'));if(user){setCurrentUser(user);}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{loginUser:loginUser})}),/*#__PURE__*/_jsx(Route,{path:\"/loginGost\",element:/*#__PURE__*/_jsx(LoginGost,{loginUser:loginUser})}),/*#__PURE__*/_jsx(Route,{path:\"/singup\",element:/*#__PURE__*/_jsx(SingUpPage,{loginUser:loginUser})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:currentUser?/*#__PURE__*/_jsx(HomePage,{autentification:autentification,logoutUser:logoutUser}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/Svadbeni_saloni\",element:currentUser?/*#__PURE__*/_jsx(WeddingSalonPage,{autentification:autentification,logoutUser:logoutUser}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/Raspored_sjedenja\",element:currentUser?/*#__PURE__*/_jsx(SeatingArrangementPage,{autentification:autentification,logoutUser:logoutUser}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})})});}export default App;","map":{"version":3,"names":["LoginPage","BrowserRouter","Router","Route","Routes","SingUpPage","HomePage","WeddingSalonPage","SeatingArrangementPage","useState","useEffect","Navigate","LoginGost","jsx","_jsx","jsxs","_jsxs","App","autentification","setAutentification","isAdmin","isNewlyweds","isGuest","currentUser","setCurrentUser","loginUser","userData","console","log","user","uloga","prevState","logoutUser","localStorage","removeItem","JSON","parse","getItem","className","children","path","element","to"],"sources":["C:/Projekt/projekt1/frontend/src/App.js"],"sourcesContent":["import './App.css';\r\nimport LoginPage from './pages/loginPage/loginPage';\r\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\r\nimport SingUpPage from './pages/singUpPage/singUpPage';\r\nimport HomePage from './pages/homePage/homePage';\r\nimport WeddingSalonPage from './pages/weddingSalonPage/weddingSalonPage';\r\nimport SeatingArrangementPage from './pages/seatingArrangementPage/seatingArrangementPage';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport LoginGost from './pages/loginPage/loginGost';\r\n\r\nfunction App() {\r\n  const [autentification, setAutentification] = useState({\r\n    isAdmin: false,\r\n    isNewlyweds: true,\r\n    isGuest: false,\r\n  });\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n\r\n  const loginUser = (userData) => {\r\n    setCurrentUser(userData);\r\n    console.log(userData);\r\n    if (userData.user.uloga === 'Mladenci') {\r\n      setAutentification((prevState) => ({\r\n        isAdmin: false,\r\n        isNewlyweds: true,\r\n        isGuest: false,\r\n      }));\r\n    } else if (userData.user.uloga === 'Gost') {\r\n      setAutentification((prevState) => ({\r\n        isAdmin: false,\r\n        isNewlyweds: false,\r\n        isGuest: true,\r\n      }));\r\n    } else if (userData.user.uloga === 'Administrator') {\r\n      setAutentification((prevState) => ({\r\n        isAdmin: true,\r\n        isNewlyweds: false,\r\n        isGuest: false,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const logoutUser = () => {\r\n    setCurrentUser(null);\r\n    localStorage.removeItem('user');\r\n  };\r\n\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    if (user) {\r\n      setCurrentUser(user);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className='app'>\r\n      <Router>\r\n        <Routes>\r\n          <Route path='/login' element={<LoginPage loginUser={loginUser} />} />\r\n          <Route\r\n            path='/loginGost'\r\n            element={<LoginGost loginUser={loginUser} />}\r\n          />\r\n          <Route\r\n            path='/singup'\r\n            element={<SingUpPage loginUser={loginUser} />}\r\n          />\r\n          <Route\r\n            path='/'\r\n            element={\r\n              currentUser ? (\r\n                <HomePage\r\n                  autentification={autentification}\r\n                  logoutUser={logoutUser}\r\n                />\r\n              ) : (\r\n                <Navigate to='/login' />\r\n              )\r\n            }\r\n          />\r\n          <Route\r\n            path='/Svadbeni_saloni'\r\n            element={\r\n              currentUser ? (\r\n                <WeddingSalonPage\r\n                  autentification={autentification}\r\n                  logoutUser={logoutUser}\r\n                />\r\n              ) : (\r\n                <Navigate to='/login' />\r\n              )\r\n            }\r\n          />\r\n          <Route\r\n            path='/Raspored_sjedenja'\r\n            element={\r\n              currentUser ? (\r\n                <SeatingArrangementPage\r\n                  autentification={autentification}\r\n                  logoutUser={logoutUser}\r\n                />\r\n              ) : (\r\n                <Navigate to='/login' />\r\n              )\r\n            }\r\n          />\r\n        </Routes>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}