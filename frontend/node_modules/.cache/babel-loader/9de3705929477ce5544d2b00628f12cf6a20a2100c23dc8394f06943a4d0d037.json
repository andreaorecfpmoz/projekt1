{"ast":null,"code":"import React,{useState}from'react';import'./tableComponent.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function TableComponent(_ref){let{table,onReserveSeats}=_ref;const[guestNames,setGuestNames]=useState({});const handleNameChange=(seatNumber,name)=>{// Make sure that table.IDStola is not undefined\nif(typeof table.IDStola!=='undefined'){setGuestNames({...guestNames,[\"\".concat(table.IDStola,\"-\").concat(seatNumber)]:name});}else{console.error('table.IDStola is undefined');}};const reserveHandler=()=>{onReserveSeats(table.IDStola,guestNames);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'center'},children:\"Stolica\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'center'},children:\"Rezerviraj\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Array.from({length:table.BrojStolica},(_,index)=>{var _table$guests;const seatNumber=index+1;const guestForSeat=(_table$guests=table.guests)===null||_table$guests===void 0?void 0:_table$guests.find(guest=>guest.seat===seatNumber);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Sjedalo \".concat(seatNumber)}),/*#__PURE__*/_jsx(\"td\",{children:guestForSeat?/*#__PURE__*/_jsx(\"div\",{className:\"rezervationName\",children:guestForSeat.name}):/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:guestNames[\"\".concat(table.IDStola,\"-\").concat(seatNumber)]||'',onChange:e=>handleNameChange(seatNumber,e.target.value),placeholder:\"Upi\\u0161ite ime i prezime\",className:\"rezervationInput\"})})]},\"\".concat(table.IDStola,\"-\").concat(seatNumber));})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hiperLine\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tableRezervationBtn\",onClick:reserveHandler,children:\"Rezerviraj\"})]});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TableComponent","_ref","table","onReserveSeats","guestNames","setGuestNames","handleNameChange","seatNumber","name","IDStola","concat","console","error","reserveHandler","children","style","textAlign","Array","from","length","BrojStolica","_","index","_table$guests","guestForSeat","guests","find","guest","seat","className","type","value","onChange","e","target","placeholder","onClick"],"sources":["C:/Projekt/projekt1/frontend/src/components/tableComponent/tableComponent.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './tableComponent.css';\r\n\r\nexport default function TableComponent({ table, onReserveSeats }) {\r\n  const [guestNames, setGuestNames] = useState({});\r\n\r\n  const handleNameChange = (seatNumber, name) => {\r\n    // Make sure that table.IDStola is not undefined\r\n    if (typeof table.IDStola !== 'undefined') {\r\n      setGuestNames({\r\n        ...guestNames,\r\n        [`${table.IDStola}-${seatNumber}`]: name,\r\n      });\r\n    } else {\r\n      console.error('table.IDStola is undefined');\r\n    }\r\n  };\r\n\r\n  const reserveHandler = () => {\r\n    onReserveSeats(table.IDStola, guestNames);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th style={{ textAlign: 'center' }}>Stolica</th>\r\n            <th style={{ textAlign: 'center' }}>Rezerviraj</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {Array.from({ length: table.BrojStolica }, (_, index) => {\r\n            const seatNumber = index + 1;\r\n            const guestForSeat = table.guests?.find(\r\n              (guest) => guest.seat === seatNumber\r\n            );\r\n            return (\r\n              <tr key={`${table.IDStola}-${seatNumber}`}>\r\n                <td>{`Sjedalo ${seatNumber}`}</td>\r\n                <td>\r\n                  {guestForSeat ? (\r\n                    <div className='rezervationName'>{guestForSeat.name}</div>\r\n                  ) : (\r\n                    <input\r\n                      type='text'\r\n                      value={guestNames[`${table.IDStola}-${seatNumber}`] || ''}\r\n                      onChange={(e) =>\r\n                        handleNameChange(seatNumber, e.target.value)\r\n                      }\r\n                      placeholder='UpiÅ¡ite ime i prezime'\r\n                      className='rezervationInput'\r\n                    />\r\n                  )}\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      <div className='hiperLine'></div>\r\n      <button className='tableRezervationBtn' onClick={reserveHandler}>\r\n        Rezerviraj\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}