{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import'./loginPage.css';import logo from'../../styles/icons/logo.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginGost(props){const navigate=useNavigate();const[credentials,setCredentials]=useState({imePrezime:'',email:'',brojPozivnice:'',uloga:'Gost'});const[error,setError]=useState(false);const handleChange=e=>{const{name,value}=e.target;setCredentials({...credentials,[name]:value});};const handleSubmit=async e=>{e.preventDefault();try{setError(false);const response=await fetch('http://wedease.studenti.sum.ba/users/loginGost',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(credentials)});if(!response.ok){setError(true);throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();props.loginUser(data);localStorage.setItem('user',JSON.stringify(data));navigate('/');}catch(error){console.error('Error during guest login:',error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-center align-items-center vh-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Wedease Logo\",className:\"mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"card-title headerLogin\",children:\"Wedease\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control \".concat(error?'error':''),placeholder:\"Ime i prezime\",name:\"imePrezime\",value:credentials.imePrezime,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control \".concat(error?'error':''),name:\"email\",placeholder:\"Email\",value:credentials.email,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control \".concat(error?'error':''),name:\"brojPozivnice\",placeholder:\"Broj Pozivnice\",value:credentials.brojPozivnice,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"loginBtn btn\",children:\"Prijava\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center bottom\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn hipperLink\",onClick:()=>navigate('/singup'),children:\"Izradite korisni\\u010Dki ra\\u010Dun\"})})]})});}","map":{"version":3,"names":["React","useState","useNavigate","logo","jsx","_jsx","jsxs","_jsxs","LoginGost","props","navigate","credentials","setCredentials","imePrezime","email","brojPozivnice","uloga","error","setError","handleChange","e","name","value","target","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","Error","concat","status","data","json","loginUser","localStorage","setItem","console","className","children","src","alt","onSubmit","type","placeholder","onChange","required","onClick"],"sources":["C:/Projekt/projekt1/frontend/src/pages/loginPage/loginGost.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './loginPage.css';\r\nimport logo from '../../styles/icons/logo.png';\r\n\r\nexport default function LoginGost(props) {\r\n  const navigate = useNavigate();\r\n  const [credentials, setCredentials] = useState({\r\n    imePrezime: '',\r\n    email: '',\r\n    brojPozivnice: '',\r\n    uloga: 'Gost'\r\n  });\r\n  const [error, setError] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setCredentials({ ...credentials, [name]: value });\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    try {\r\n        setError(false);\r\n      const response = await fetch('http://wedease.studenti.sum.ba/users/loginGost', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(credentials),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        setError(true);\r\n\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      props.loginUser(data);\r\n    \r\n      localStorage.setItem('user', JSON.stringify(data));\r\n\r\n      navigate('/');\r\n    } catch (error) {\r\n      console.error('Error during guest login:', error);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div className='container'>\r\n      <div className='row justify-content-center align-items-center vh-100'>\r\n        <div className='text-center logo'>\r\n          <img src={logo} alt='Wedease Logo' className='mb-4' />\r\n          <h2 className='card-title headerLogin'>Wedease</h2>\r\n        </div>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className='mb-3'>\r\n            <input\r\n              type='text'\r\n              className={`form-control ${error ? 'error' : ''}`}\r\n              placeholder='Ime i prezime'\r\n              name='imePrezime'\r\n              value={credentials.imePrezime}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n\r\n          <div className='mb-3'>\r\n            <input\r\n              type='email'\r\n              className={`form-control ${error ? 'error' : ''}`}\r\n              name='email'\r\n              placeholder='Email'\r\n              value={credentials.email}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className='mb-3'>\r\n            <input\r\n              type='text'\r\n              className={`form-control ${error ? 'error' : ''}`}\r\n              name='brojPozivnice'\r\n              placeholder='Broj Pozivnice'\r\n              value={credentials.brojPozivnice}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className='d-grid'>\r\n            <button type='submit' className='loginBtn btn'>\r\n              Prijava\r\n            </button>\r\n          </div>\r\n        </form>\r\n        <div className='text-center bottom'>\r\n          <div className='btn hipperLink' onClick={() => navigate('/singup')}>\r\n            Izradite korisnički račun\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}